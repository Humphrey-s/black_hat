#!/bin/bash

internalip=`route -n | grep UG | awk '{print $2}'`

echo "Internal IP address: $internalip"

routername=`nslookup $internalip | grep "name =" | awk '{print $4}'`

routername=${routername//.*}

echo "Routername: $routername"

echo -n "Public IP address: "

nslookup $routername | grep Address | tail -1 | awk '{print $2}'
